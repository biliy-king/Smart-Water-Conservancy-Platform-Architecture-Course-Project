<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Cesium 测试</title>
    <!-- 使用绝对路径 -->
    <script src="/Cesium-1.136/Build/Cesium/Cesium.js"></script>
    <link rel="stylesheet" href="/Cesium-1.136/Build/Cesium/Widgets/widgets.css">
    <style>
        html, body { width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden; }
        #cesiumContainer { width: 100%; height: 100%; }
    </style>
</head>
<body>
    <div id="cesiumContainer"></div>
    <script>
        // 设置基础路径
        window.CESIUM_BASE_URL = '/Cesium-1.136/Build/Cesium/';
        
        // 检查 Cesium 是否加载
        if (typeof Cesium === 'undefined') {
            document.body.innerHTML = '<h1 style="color:red;text-align:center;margin-top:50px;">❌ Cesium 加载失败！</h1>' +
                '<p style="text-align:center;">请检查：<br>1. Cesium 文件路径是否正确<br>2. 是否通过 HTTP 服务器运行</p>';
        } else {
            console.log('✅ Cesium 版本:', Cesium.VERSION);
            
            // 设置令牌（如果没有，可以不用地形）
            Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlYWE1OWUxNy1mMWZiLTQzYjYtYTQ0OS1kMWFjYmFkN2Y0YzciLCJpZCI6MjAzOTIsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1NzE4NTI0ODJ9.t-p1cTU0TLmtdKXQ-4WEsG2qWlP6CbMkQCFaBqOjZ-w';
            
            // 创建简单的 Viewer
            const viewer = new Cesium.Viewer('cesiumContainer', {
                animation: false,
                baseLayerPicker: false,
                // 使用内置的底图，避免网络问题
                imageryProvider: new Cesium.TileMapServiceImageryProvider({
                    url: Cesium.buildModuleUrl('Assets/Textures/NaturalEarthII')
                }),
                // 不使用地形，避免令牌问题
                terrainProvider: undefined
            });
            
            viewer.camera.setView({
                destination: Cesium.Cartesian3.fromDegrees(116.4, 39.9, 5000000)
            });
            
            console.log('✅ Cesium Viewer 创建成功！');
        }
    </script>
</body>
</html>